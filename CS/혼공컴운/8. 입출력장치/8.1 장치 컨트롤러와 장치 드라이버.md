## 08.1 장치 컨트롤러와 장치 드라이버

### 장치 컨트롤러

&nbsp;&nbsp;장치 컨트롤러(device controller)는 입출력 제어기(I/O controller) 혹은 입출력 모듈(I/O module) 등으로 다양하게 불리는 장치입니다. 이번 절에서는 장치 컨트롤러가 입출력 장치와 CPU, 메모리와 같은 컴퓨터 장치 사이에서 어떠한 역할을 하는지 다룹니다.

<br>

**장치 컨트롤러의 필요성**

1. 입출력장치의 종류는 너무 다양하고 각 장치마다 속도, 데이터, 전송 형식 등이 상이하여 다양한 입출력장치와 정보를 주고받는 방식은 규격화하기가 까다롭습니다.

2. 일반적으로 CPU와 메모리의 데이터 전송률은 높지만 입출력장치의 데이터 전송률은 낮습니다.

<br>

**장치 컨트롤러의 역할**

1. CPU와 규격화가 어려운 입출력장치 간의 통신 중개 역할을 합니다.

2. 자신과 연결된 입출력장치에 문제가 없는지 오류를 검출하는 역할을 합니다.

3. `데이터 버퍼링(data buffering)`을 통해 전송률이 높은 장치(CPU)와 낮은 장치(입출력장치) 사이 간 전송률 차이를 완화합니다.

<br>

> 💡 **버퍼링(buffering)**
>
> &nbsp;&nbsp;`버퍼(buffer)`라는 임시 저장 공간에 데이터를 저장하여 전송률이 다른 두 장치간의 전송률을 비슷하게 맞추는 것을 `버퍼링`이라고 부릅니다.

<br>

**장치 컨트롤러 구성요소**

&nbsp;&nbsp;장치 컨트롤러의 구성요소는 간략하게 `데이터 레지스터(data register)`, `상태 레지스터(state register)`, `제어 레지스터(control register)` 세 가지로 나타낼 수 있습니다. 실제로는 조금 더 복잡하게 표현되어 있지만 본문에서는 장치 컨트롤러의 구성요소에 대해 세 가지로 설명하고 있습니다.

&nbsp;&nbsp;각각의 레지스터에 담긴 값들은 버스(bus)를 타고 다른 입출력장치나, 장치 컨트롤러에 연결된 입출력장치로 전달됩니다.

<br>

1. 데이터 레지스터는 CPU와 입출력장치 사이에 주고받을 데이터가 담기는 레지스터입니다. 입출력장치와 CPU간 전송률을 완화하기 위해 데이터 레지스터가 버퍼의 역할을 하며, 주고 받는 데이터가 매우 많은 오늘 날에는 레지스터 대신 RAM을 사용한다고도 합니다.

2. 상태 레지스터는 입출력장치가 입출력 작업을 할 준비가 되었는지, 입출력 작업이 완료되었는지, 입출력장치에 오류는 없는지 등의 상태 정보가 저장됩니다.

3. 제어 레지스터는 입출력장치가 수행할 작업의 내용에 대한 제어 정보와 명령이 저장됩니다.

<br>

### 장치 드라이버

&nbsp;&nbsp;장치 컨트롤러가 입출력장치를 연결하기 위한 하드웨어적인 통로라면, 장치 드라이버는 입출력장치를 연결하기 위한 소프트웨어적인 통로로 비유할 수 있습니다. `장치 드라이버`는 장치 컨트롤러의 동작을 감지하고 제어함으로써 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 `프로그램`입니다.

<br>

> ❗️ 장치 드라이버를 인식하고 실행하는 주체는 운영체제입니다. 장치 드라이버에는 운영체제가 기본으로 제공하는 것도 있지만 장치 생산업체에서 별도로 제공하여 직접 설치해야만 사용할 수 있는 입출력장치도 있습니다.

<br>
