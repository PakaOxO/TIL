
&nbsp;&nbsp;본문은 `git commit`과 관련된 내용을 전체적으로 정리한 내용을 담고 있습니다.

<br>

## 기본 사용법

### 1. 변경 사항 스테이징

```sh
git add <file1> <file2> ...   # 특정 파일 추가
git add .                     # 현재 디렉토리의 모든 변경 사항 추가
```

<br>

### 2. 커밋

&nbsp;&nbsp;`-m, --message <msg>`: 커밋 메시지를 직접 명령어에 포함시켜 작성합니다.

```sh
git commit -m 'Your commit message'
```

<br>

### 3. 메시지 없이 커밋

&nbsp;&nbsp;편집기가 열리고, 메시지를 작성할 수 있습니다.

```sh
git commit
```

<br>

### 4. 커밋 수정

&nbsp;&nbsp;마지막 커밋을 수정합니다. 커밋 메시지나 포함된 파일을 변경할 때 유용합니다. 주의해야 할 점은 이미 원격 저장소나 다른 사용자와 공유된 커밋은 기존 커밋과 다른 해시를 가질 수 있으므로 충돌과 같은 이슈를 발생시킬 수 있습니다.

```sh
git commit --amend
```


<br>

## 커밋 옵션 종류

### 기본 옵션

- `-a, --all`: **추적된 파일**과 **새로운 파일**을 모두 스테이징합니다. 단, 새로 추가된 파일은 포함되지 않습니다.

```sh
git commit -a -m <message>
```

<br>

### 수정 및 병합 옵션

- `--amend`: 마지막 커밋을 수정합니다. 실행하면 메시지를 수정할 수 있는 편집기가 열리고 커밋 메시지를 수정하거나 그대로 사용할 수 있습니다.

```sh
git commit --amend
```

- `--no-edit`: `--amend` 옵션과 함께 사용되어 이전 커밋 메시지를 그대로 사용합니다.

```sh
git commit --amend --no-edit
```

<br>

### 파일 및 경로 관련 옵션


- `--include <file>`: 지정된 파일을 포함하여 커밋합니다.
- `--only <file>`: 지정된 파일만 커밋합니다.

<br>

### 템플릿 및 메시지 관련 옵션

- `-t, --template <file>`: 커밋 메시지를 작성할 때 사용할 템플릿 파일을 지정합니다.
- `--cleanup <mode>`: 커밋 메시지를 정리하는 방식을 지정합니다. (`default`, `verbatim`, `whitespace`, `strip`)

<br>

**`--cleanup` options**

  • **default**: 기본적으로 빈 줄을 제거하고, 주석은 유지합니다. 주석이라 함은 메시지의 첫 번째 줄 이외의 줄이며, 주로 변경 사항의 상세 설명이나 이슈 트래커 관련 정보를 포함할 수 있습니다.
  
  • **strip**: 모든 빈 줄과 주석을 제거합니다. 이 옵션을 사용하면 커밋 메시지가 간결하게 유지될 수 있습니다.
  
  • **whitespace**: 빈 줄은 유지하되, 주석은 제거합니다. 이 옵션은 주석을 제거하면서도 메시지의 가독성을 유지할 수 있습니다.
  
  • **verbatim**: 커밋 메시지를 그대로 유지합니다. 어떤 수정도 하지 않고 입력된 그대로의 메시지를 사용합니다. 이 옵션은 특정한 정리나 수정 없이 원본 메시지를 그대로 사용할 때 유용합니다.

<br>

### 날짜 및 시간 관련 옵션

- `--date <date>`: 커밋 날짜를 지정합니다.

```sh
git commit --date='2024-06-19T12:00:00'
```

<br>

### 서명 관련 옵션

- `-S, --gpg-sign`: 커밋을 GPG 키로 서명합니다.
- `--no-gpg-sign`: GPG 서명을 하지 않고 커밋합니다.

<br>

### 상태 및 메타데이터 관련 옵션

- `-v, --verbose`: 커밋할 때 변경된 내용을 보여줍니다.
- `--no-verify`: 커밋 훅을 무시하고 커밋합니다.
- `-q, --quiet`: 커밋 과정에서 메시지를 최소화합니다.

<br>

**`--q`, `--quiet` 옵션 활용**

&nbsp;&nbsp;`-q` 옵션은 출력 메시지의 최소화가 개발자나 프로젝트 운영에 도움이 되는 상황에서 유용하게 사용될 수 있습니다.

1. **메시지 단순화** : 프로젝트 개발 과정에서 여러 번의 커밋을 수행할 때, `-q`옵션을 사용하여 터미널 출력을 줄이면 작업을 진행하는 동안 터미널에서의 메시지로 인한 방해를 최소화할 수 있습니다. 이는 특히 개발자가 작업에 집중하고자 할 때 유용합니다.

2. **자동화 및 스크립트 실행**: CI/CD 파이프라인이나 스크립트를 통해 Git 작업을 자동화할 때, `-q`옵션을 사용하여 출력을 줄이면 자동화된 작업 실행 시 터미널 로그가 과도하게 출력되지 않아 시스템 관리 및 디버깅이 용이해질 수 있습니다.

3. **메시지 일관성**: 프로젝트 팀에서 커밋 메시지의 일관성을 유지하려고 할 때, `-q` 옵션을 사용하여 사용자 입력이나 다른 요인에 의한 메시지의 변화를 최소화할 수 있습니다.

<br>

### 기타 옵션

- `--dry-run`: 실제로 커밋을 하지 않고 어떤 작업이 수행될지 확인합니다.
- `--allow-empty`: 변경 사항이 없는 빈 커밋을 생성합니다.
- `--allow-empty-message`: 커밋 메시지가 없는 커밋을 허용합니다.

<br>

**`--allow-empty` 옵션 활용**

&nbsp;&nbsp;`--allow-empty`는 커밋 메시지가 없는 빈 커밋을 생성할 수 있도록 허용하여, 프로젝트의 히스토리나 작업 이력을 정확하게 유지하거나 특정 시점을 명확히 나타내는 데 사용됩니다.

1. **작업 진행 상황 기록** : 프로젝트에서 중요한 시점이나 마일스톤을 나타내기 위해 빈 커밋을 생성할 때 사용될 수 있습니다. 예를 들어, 특정 시점에서 아무 변경 사항이 없더라도 해당 시점을 기록하고 싶을 때 사용할 수 있습니다.

2. **CI/CD 스크립트 실행** : CI/CD(Continuous Integration/Continuous Deployment) 파이프라인에서 자동화된 작업이 일어날 때, 모든 작업의 이력을 유지하기 위해 빈 커밋을 사용할 수 있습니다. 이는 특정 작업이 성공했음을 명시적으로 나타내는효과가 있습니다.

3. **브랜치 이동 시점** : 브랜치를 이동하거나, 특정 작업을 완료한 시점에서 변경 사항이 없더라도 명시적인 커밋을 생성할 필요가 있을 때 사용될 수 있습니다.

4. **테스트 케이스 추가** : 특정 테스트 케이스를 추가했지만 실제로 코드 변경은 없는 경우, 테스트 케이스의 추가 사실을 기록하기 위해 빈 커밋을 생성할 수 있습니다.

<br>

**References**
- [Git Docs](https://git-scm.com/docs/git-commit)
