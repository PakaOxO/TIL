&nbsp;&nbsp;레지스터의 종류와 명칭은 CPU 제조사마다 상이하기 때문에 이번 절에서 다루는 레지스터들은 공통적으로 사용되는 8가지 레지스터에 대해 설명합니다.

<br>

### 반드시 알아야 할 레지스터

1. **프로그램 카운터(PC)**

&nbsp;&nbsp;`프로그램 카운터`는 <mark>명령어를 가져올 메모리의 주소</mark>를 저장하는 레지스터입니다. 이러한 특징 때문에 프로그램 카운터를 `명령어 포인터(Instruction Pointer)`라고 부르는 CPU도 있다고 합니다.

<br>

2. **명령어 레지스터**

&nbsp;&nbsp;`명령어 레지스터`는 메모리에서 가져온 명령어를 저장하는 레지스터입니다. 명령어 레지스터에 저장된 명령어는 제어장치에 의해 해석됩니다.

<br>

3. **메모리 주소 레지스터**

&nbsp;&nbsp;`메모리 주소 레지스터`는 CPU가 메모리의 정보를 읽기 전에 해당 메모리의 주소를 저장하는 레지스터 입니다. 메모리 주소 레지스터에 저장된 주소는 주소 버스를 통해 메모리에 전달됩니다.

<br>

4. **메모리 버퍼 레지스터**

&nbsp;&nbsp;메모리 주소 레지스터에는 메모리의 주소가 저장되었다면 `메모리 버퍼 레지스터`에는 메모리에서 가져온 데이터가 저장됩니다. 메모리 버퍼 레지스터는 `메모리 데이터 레지스터`라고도 부릅니다.

<br>

> ❗️ 프로그램이 명령을 처리하기 위해 CPU 내부의 레지스터의 흐름에 대한 일련의 과정은 다음과 같습니다.
>
> 1. 프로그램이 실행되고 명령을 처리하기 위해 가장 먼저 프로그램 카운터에 명령어가 저장된 주소인 1000번이 저장됩니다.
> 2. 메모리 주소 1000번의 명령어를 읽어오기 위해 메모리 주소 레지스터에는 1000이 저장되고, 주소버스를 통해 1000번지에 있는 명령어를 읽어옵니다.
> 3. 읽어온 명령어는 메모리 버퍼 레지스터에 저장됩니다.
> 4. 메모리 버퍼 레지스터에 저장된 명령어는 명령어 레지스터에 저장된 뒤, 제어장치가 해석하여 제어신호를 발생시킵니다.
> 5. 하나의 연산이 실행되었으므로 프로그램 카운터는 1001번으로 이동하여 다음 연산을 실행할 준비를 합니다.
>
> 💡 프로그램 카운터는 항상 순차적으로 프로그램을 실행하는 것은 아닙니다. 프로그램 카운터는 이전 장에서 다루었던 명령어의 종류에서 JUMP, CONDITIONAL JUMP, CALL, PET 등과 같은 명령어 또는 인터럽트에 의해 변경된 주소로 이동할 수 있습니다.

<br>

5. **범용 레지스터**

&nbsp;&nbsp;`범용 레지스터`는 데이터와 주소를 모두 저장할 수 있는 레지스터입니다.

<br>

6. **플래그 레지스터**

&nbsp;&nbsp;`플래그 레지스터`는 연산 결과나 CPU 상태에 대한 부가적인 정보를 저장하는 레지스터입니다.

<br>

### 스택 포인터와 스택 주소 지정 방식

&nbsp;&nbsp;스택은 FIFO 구조의 한쪽 끝이 막혀있는 자료구조입니다. `스택 포인터`는 마지막에 저장된 주소에 가장 먼저 접근할 수 있는 레지스터로 `스택 주소 지정 방식`는 이 스택 포인터와 스택을 사용한 주소 지정 방식입니다. 스택 포인터는 <mark>다음 접근할 주소의 위치로 스택에 마지막으로 추가된 위치를 가리키고</mark>, 만약 새로운 주소가 추가되었다면 그 위치로 이동하게 됩니다.

<br>

> 💡 스택은 어디에 있나요?
>
> 스택이 존재하는 영역은 CPU 밖 메모리에 위치합니다. 메모리에는 `스택 영역`이 존재하며 스택 영역은 다른 영역과는 다르게 스택의 구조로 주소를 저장합니다.

<br>

### 베이스 레지스터와 변위 주소 지정 방식

&nbsp;&nbsp;`변위 주소 지정 방식(displacement addressing mode)`는 메모리의 주소를 담는 <mark>오퍼랜드 필드의 값과 특정 레지스터의 값을 더하여 유효 주소 구하는</mark> 주소 지정 방식입니다. 변위 주소 지정 방식을 사용하는 명령어는 아래와 같이 연산코드, 레지스터와 오퍼랜드로 구성되어 있습니다.

<br>

<figure align="center">
  <img src="../images/변위주소지정방식.jpg" style="width: 600px" />
</figure>

<br>

**상대 주소 지정 방식**

- `상대 주소 지정 방식`는 위 그림에서 설명했던 오퍼랜드 필드의 값과 `프로그램 카운터`의 값을 더해 유효 주소를 얻어내는 방식입니다.
- 만약 오퍼랜드의 값이 -3이었다면 다음 명령어를 실행할 주소는 읽어 들일 명령어의 위치에서 3번째 이전 위치가 됩니다.
- 사앧 주소 지정 방식은 주로 프로그래밍의 조건 분기와 유사하게 분기에 따라 특정 주소의 코드를 실행할 때 사용됩니다.

<br>

**베이스 레지스터 주소 지정 방식**

- `베이스 레지스터 주소 지정 방식`은 오퍼랜드 필드의 값과 `베이스 레지스터`에 저장된 값을 더해 유효 주소를 얻어내는 방식입니다.
- 베이스 레지스터의 주소는 `기준 주소`, 오퍼랜드의 값은 기준 주소에서 떨어진 거리를 의미하게 됩니다.

<br>
